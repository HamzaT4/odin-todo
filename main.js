(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{vS:()=>$,q:()=>L,Uq:()=>H,le:()=>k,wq:()=>f});const t=document.querySelector("select"),o=document.querySelector(".projects"),r=document.querySelector(".tasks");let n="",c="Daily Tasks";const i=document.querySelector(".create-task"),l=document.querySelector(".create-project"),a=document.querySelector(".add-project"),s=document.querySelector(".add-task"),u=document.querySelector(".delete-project");let d={},y=document.querySelector(".project-now");const m=document.querySelector(".clear-button");function p(e){o.innerHTML="",t.innerHTML="",e.forEach((e=>{o.innerHTML=o.innerHTML+`<h4 class = "project-item">${e}</h4>`,t.innerHTML=t.innerHTML+`<option value="${e}">${e}</option>`})),document.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",h)})),a.style.visibility="hidden"}function h(e){c=e.target.innerHTML,H(),S(k)}function S(e){r.innerHTML="",e.forEach((e=>{r.innerHTML=r.innerHTML+`<div class="task"><h5>Name: ${e.name}</h5> <h5> Due Date: ${e.dueDate}</h5> <input type="checkbox"></div>`})),document.querySelectorAll(".task").forEach((e=>{e.addEventListener("click",v)})),y.innerHTML=` <h3 class="project-now">${c}</h3>`,s.style.visibility="hidden"}function v(e){n=e.target.innerHTML.substring(e.target.innerHTML.indexOf(" ")+1,e.target.innerHTML.indexOf("/")-1),d=f.filter((e=>e.name==n)),console.log(d[0]),"object"==typeof d[0]&&function(e){let t=document.createElement("div");t.classList.add("show-task"),t.innerHTML=`<h5>Name: ${e.name}</h5> <h5>Date: ${e.dueDate}</h5> <h5>Description: ${e.description}</h5> \n    <h5>Priority: ${e.priority}</h5> <h5>From:${e.project}</h5>  <button class="exit-button">CLOSE</button>`,r.appendChild(t),document.querySelector(".exit-button").addEventListener("click",(()=>{t.remove()}))}(d[0])}l.addEventListener("click",(()=>{a.style.visibility="visible",s.style.visibility="hidden"})),i.addEventListener("click",(()=>{s.style.visibility="visible",a.style.visibility="hidden"})),m.addEventListener("click",(()=>{localStorage.clear(),location.reload()})),u.addEventListener("click",(function(){"Daily Tasks"!=c?L.splice(L.indexOf(c),1):"Daily Tasks"==c&&alert("You cant have a day without tasks1"),p(L),k=f.filter((e=>"Daily Tasks"==e.project)),c="Daily Tasks",S(k),$()}));let f=[],k=[],L=["Daily Tasks"];const q=document.querySelector("#submit"),g=document.querySelector("#title"),j=document.querySelector("#date"),T=document.querySelector("#desc"),b=document.querySelector("#prio"),M=document.querySelector("#proj"),D=document.querySelector("#new-project"),E=document.querySelector("#add-button");function H(){k=f.filter((e=>e.project==c))}function O(e){"object"==typeof e[0]?localStorage.setItem("tasksMemory",JSON.stringify(e)):"string"==typeof e[0]&&localStorage.setItem("projectMemory",JSON.stringify(e))}function $(){localStorage.removeItem("projectMemory"),localStorage.setItem("projectMemory",JSON.stringify(L))}console.log("memory fetched"),f=JSON.parse(localStorage.getItem("tasksMemory")||"[]"),L=JSON.parse(localStorage.getItem("projectMemory")||"[]"),0==L.length&&(L=["Daily Tasks"]),p(L),S(f.filter((e=>"Daily Tasks"==e.project))),E.addEventListener("click",(()=>{L.push(D.value),p(L),O(L)})),q.addEventListener("click",(function(){f.push(function(e,t,o,r,n){return{name:e,dueDate:t,description:o,priority:r,project:n}}(g.value,j.value,T.value,b.value,M.value)),H(),S(k),console.log(f),O(f)}))})();